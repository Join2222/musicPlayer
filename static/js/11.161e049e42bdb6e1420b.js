webpackJsonp([11],{"4SmL":function(t,s){},iEpx:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={name:"music-detail",data:function(){return{play:!0,duration:0,durationShow:"",currentTime:0,currentTimeShow:"",percent:0,songs:["static/music/song1.mp3","static/music/song2.mp3","static/music/song3.mp3"],index:0,testDataStr:"123",testDataNum:110,songList:!1,touchStart:0,auto:!0}},mounted:function(){this.$store.dispatch("setData",this.$refs.music),this.$store.getters.playState},methods:{control:function(t){switch(t){case"play":this.$store.state.playing?this.$refs.music.pause():this.$refs.music.play(),this.$store.dispatch("playing");break;case"next":this.next();break;case"prev":this.prev()}},progress:function(t){var s=this;this.auto&&(this.duration=t.currentTarget.duration,this.currentTime=t.currentTarget.currentTime,this.percent=this.currentTime/this.duration*100+"%",this.durationShow=this.timeTransform(this.duration),this.currentTimeShow=this.timeTransform(this.currentTime),this.$refs.music.addEventListener("ended",function(){s.next()}))},timeTransform:function(t){var s={};return s.min=t<600?"0"+parseInt(t/60):parseInt(t/60),s.sec=Math.ceil(t%60)<10?"0"+Math.ceil(t%60):Math.ceil(t%60),s.min+":"+s.sec},next:function(){var t=this.$refs.music;this.index++,this.index===this.songs.length&&(this.index=0),t.src=this.songs[this.index],t.pause(),t.play()},prev:function(){var t=this.$refs.music;this.index--,this.index<0&&(this.index=this.songs.length-1),t.src=this.songs[this.index],t.pause(),t.play()},select:function(t){var s=this.$refs.music;t>=0&&t<this.songs.length&&(this.index=t,s.src=this.songs[this.index],s.pause(),s.play(),this.songList=!1,this.play=!1)},speed:function(t,s){if("start"===s)this.auto=!1,this.touchStart=t.changedTouches[0].pageX;else if("end"===s)this.$refs.music.currentTime=this.$refs.music.duration*this.percent.replace("%","")/100,this.auto=!0;else{var i=this.$refs.progress.offsetWidth,e=t.changedTouches[0].pageX-this.touchStart;this.touchStart=t.changedTouches[0].pageX;var n=e/i*100;this.percent=parseFloat(this.percent.toString().replace("%",""))+n+"%"}}}},n={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("transition",{attrs:{name:"upper"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.show,expression:"$store.state.show"}],staticClass:"detail"},[i("header",[i("i",{staticClass:"icon-arrow",on:{click:function(s){t.$store.dispatch("hide")}}},[t._v("\n        \n      ")]),t._v("\n      正在播放\n      "),i("i",{staticClass:"icon-share"},[t._v("")])]),t._v(" "),i("div",{staticClass:"detail-content"},[i("div",{class:["disc-pic",{stop:!t.$store.state.playing}]},[i("img",{attrs:{src:"static/images/thum.jpg"}})])]),t._v(" "),i("div",{staticClass:"lyc"},[t._v("（暂无歌词!）")]),t._v(" "),i("footer",{staticClass:"operators"},[i("div",{staticClass:"progress-box"},[i("span",[t._v(t._s(t.currentTimeShow))]),t._v(" "),i("div",{ref:"progress",staticClass:"progress"},[i("div",{staticClass:"progress-bar",style:{width:t.percent}}),t._v(" "),i("div",{staticClass:"control-ball",on:{touchstart:function(s){t.speed(s,"start")},touchmove:function(s){t.speed(s,"move")},touchend:function(s){t.speed(s,"end")}}})]),t._v(" "),i("span",[t._v(t._s(t.durationShow))])]),t._v(" "),i("div",{staticClass:"control-bar"},[i("i",{staticClass:"icon-loop"},[t._v("")]),t._v(" "),i("i",{staticClass:"icon-prev",on:{click:function(s){t.control("prev")}}},[t._v("\n          \n        ")]),t._v(" "),i("i",{class:t.$store.state.playing?"icon-stop":"icon-play",on:{click:function(s){t.control("play")}}}),t._v(" "),i("i",{staticClass:"icon-next",on:{click:function(s){t.control("next")}}},[t._v("\n          \n        ")]),t._v(" "),i("i",{staticClass:"icon-list",on:{click:function(s){t.songList=!t.songList}}},[t._v("\n          \n        ")])]),t._v(" "),i("audio",{ref:"music",attrs:{src:"static/music/song1.mp3"},on:{timeupdate:function(s){t.progress(s)}}})]),t._v(" "),i("transition",{attrs:{name:"scale"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.songList,expression:"songList"}],staticClass:"song-list"},[i("div",{on:{click:function(s){t.select(0)}}},[t._v("song1")]),t._v(" "),i("div",{on:{click:function(s){t.select(1)}}},[t._v("song2")]),t._v(" "),i("div",{on:{click:function(s){t.select(2)}}},[t._v("song3")])])])],1)])},staticRenderFns:[]};var a=i("VU/8")(e,n,!1,function(t){i("4SmL")},"data-v-3e24ce94",null);s.default=a.exports}});
//# sourceMappingURL=11.161e049e42bdb6e1420b.js.map